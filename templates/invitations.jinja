{% extends "base.jinja" %}
{% block title %}
  {{ super() }} | {{ ftl_get_message("invitations") }}
{% endblock title %}
{% block content %}
  <div class="center">
    <h2>{{ ftl_get_message("invitations") }}</h2>

    {% if invitations %}
    <div class="invitations-section">
      <h3>{{ ftl_get_message("invitations-pending") }}</h3>
      {% for invitation in invitations %}
      <div class="invitation-card" id="invitation-{{ invitation.id }}">
        <div class="invitation-info">
          <p>
            <strong>{{ ftl_get_message("invitation-from") }}</strong>
            <a href="/@{{ invitation.inviter_login_name }}">@{{ invitation.inviter_login_name }}</a>
          </p>
          <p>
            <strong>{{ ftl_get_message("invitation-to-community") }}</strong>
            <strong>{{ invitation.community_name }}</strong>
          </p>
          <p><small>{{ invitation.created_at }}</small></p>
        </div>
        <div class="invitation-actions">
          <button hx-post="/invitations/{{ invitation.id }}/accept"
                  hx-target="#invitation-{{ invitation.id }}"
                  hx-swap="outerHTML"
                  class="btn-primary">
            {{ ftl_get_message("invitation-accept") }}
          </button>
          <button hx-post="/invitations/{{ invitation.id }}/reject"
                  hx-target="#invitation-{{ invitation.id }}"
                  hx-swap="outerHTML"
                  class="btn-secondary">
            {{ ftl_get_message("invitation-reject") }}
          </button>
        </div>
      </div>
      {% endfor %}
    </div>
    {% else %}
    <p>{{ ftl_get_message("invitations-none") }}</p>
    {% endif %}
  </div>
{% endblock content %}
